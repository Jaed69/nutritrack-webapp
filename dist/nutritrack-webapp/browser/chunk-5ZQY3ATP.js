import{a as b}from"./chunk-6LZ2YNEV.js";import{g as t,j as p,m as i,ta as r,u as l,ua as o}from"./chunk-S3CJXT6Z.js";var u=class a{constructor(e){this.http=e}baseUrl=`${b.apiUrl}/admin/planes`;_planes=l([]);_planActual=l(null);planes=this._planes.asReadonly();planActual=this._planActual.asReadonly();obtenerPlanes(e=!1){let s=new r;return e&&(s=s.set("incluirInactivos","true")),this.http.get(this.baseUrl,{params:s}).pipe(t(n=>{n.success&&n.data&&this._planes.set(n.data)}))}obtenerPlanPorId(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(t(s=>{s.success&&s.data&&this._planActual.set(s.data)}))}crearPlan(e){return this.http.post(this.baseUrl,e)}actualizarPlan(e,s){return this.http.put(`${this.baseUrl}/${e}`,s)}eliminarPlan(e){return this.http.delete(`${this.baseUrl}/${e}`)}agregarDiaAlPlan(e,s){return this.http.post(`${this.baseUrl}/${e}/dias`,s)}eliminarDiaDelPlan(e,s){return this.http.delete(`${this.baseUrl}/${e}/dias/${s}`)}duplicarPlan(e,s){return this.http.post(`${this.baseUrl}/${e}/duplicar`,{nombre:s})}cambiarEstadoPlan(e,s){return this.http.patch(`${this.baseUrl}/${e}/estado`,{activo:s})}limpiarEstado(){this._planes.set([]),this._planActual.set(null)}static \u0275fac=function(s){return new(s||a)(i(o))};static \u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"})};export{u as a};
