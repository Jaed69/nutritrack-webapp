import{a as B}from"./chunk-NMCC4XAY.js";import{a as z}from"./chunk-MUQBBXYO.js";import{b as R,c as d,d as y,e as P,g as I,h as w,i as D,k as F,l as V,m as A,n as k,o as G,p as j,q,s as T}from"./chunk-YUBUCD23.js";import"./chunk-6LZ2YNEV.js";import{A as o,Aa as O,B as S,K as s,L as p,P as f,Q as i,R as e,S as c,W as x,Y as h,_ as g,ca as n,ea as _,o as b,p as C,ra as E,u as l,xa as M,y as u,za as N}from"./chunk-S3CJXT6Z.js";import"./chunk-2VMXMS7J.js";function Z(a,r){a&1&&(i(0,"div",3),n(1,"Cargando rutina..."),e())}function H(a,r){if(a&1){let t=x();i(0,"form",5),h("ngSubmit",function(){b(t);let v=g();return C(v.guardar())}),i(1,"div",6)(2,"label"),n(3,"Nombre "),i(4,"span",7),n(5,"*"),e()(),c(6,"input",8),e(),i(7,"div",6)(8,"label"),n(9,"Descripci\xF3n "),i(10,"span",7),n(11,"*"),e()(),c(12,"textarea",9),e(),i(13,"div",10)(14,"div",6)(15,"label"),n(16,"Duraci\xF3n (semanas)"),e(),c(17,"input",11),e(),i(18,"div",6)(19,"label"),n(20,"Frecuencia Semanal"),e(),c(21,"input",12),e()(),i(22,"div",6)(23,"label"),n(24,"Nivel"),e(),i(25,"select",13)(26,"option",14),n(27,"Principiante"),e(),i(28,"option",15),n(29,"Intermedio"),e(),i(30,"option",16),n(31,"Avanzado"),e()()(),i(32,"div",17)(33,"button",18),n(34,"Cancelar"),e(),i(35,"button",19),n(36),e()()()}if(a&2){let t=g();f("formGroup",t.formulario),u(35),f("disabled",t.formulario.invalid||t.guardando()),u(),_(" ",t.guardando()?"Guardando...":"Guardar Cambios"," ")}}var L=class a{constructor(r,t,m,v,J){this.fb=r;this.route=t;this.router=m;this.rutinaService=v;this.notificationService=J}formulario;cargando=l(!0);guardando=l(!1);rutinaId;ngOnInit(){this.rutinaId=Number(this.route.snapshot.paramMap.get("id")),this.cargarRutina()}cargarRutina(){this.rutinaService.obtenerRutinaPorId(this.rutinaId).subscribe({next:r=>{if(r.success&&r.data){let t=r.data;this.formulario=this.fb.group({nombre:[t.nombre,d.required],descripcion:[t.descripcion,d.required],duracionSemanas:[t.duracionSemanas,d.required],frecuenciaSemanal:[t.frecuenciaSemanal,d.required],nivelDificultad:[t.nivelDificultad,d.required]}),this.cargando.set(!1)}},error:()=>{this.notificationService.showError("Error al cargar rutina"),this.router.navigate(["/admin/rutinas"])}})}guardar(){this.formulario.invalid||(this.guardando.set(!0),this.rutinaService.actualizarRutina(this.rutinaId,this.formulario.value).subscribe({next:r=>{r.success&&(this.notificationService.showSuccess("Rutina actualizada"),this.router.navigate(["/admin/rutinas"]))},error:()=>{this.guardando.set(!1),this.notificationService.showError("Error al actualizar")}}))}static \u0275fac=function(t){return new(t||a)(o(q),o(M),o(N),o(B),o(z))};static \u0275cmp=S({type:a,selectors:[["app-editar-rutina"]],decls:8,vars:2,consts:[[1,"editar-rutina-container"],[1,"header"],["routerLink","/admin/rutinas",1,"btn-link"],[1,"loading"],[1,"form",3,"formGroup"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"required"],["type","text","formControlName","nombre"],["formControlName","descripcion","rows","4"],[1,"form-row"],["type","number","formControlName","duracionSemanas","min","1"],["type","number","formControlName","frecuenciaSemanal","min","1","max","7"],["formControlName","nivelDificultad"],["value","PRINCIPIANTE"],["value","INTERMEDIO"],["value","AVANZADO"],[1,"form-actions"],["type","button","routerLink","/admin/rutinas",1,"btn-secondary"],["type","submit",1,"btn-primary",3,"disabled"]],template:function(t,m){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Editar Rutina"),e(),i(4,"button",2),n(5,"\u2190 Volver"),e()(),s(6,Z,2,0,"div",3),s(7,H,37,3,"form",4),e()),t&2&&(u(6),p(m.cargando()?6:-1),u(),p(!m.cargando()&&m.formulario?7:-1))},dependencies:[E,O,T,I,A,k,R,w,V,y,P,j,G,D,F],styles:[".editar-rutina-container[_ngcontent-%COMP%]{padding:2rem;max-width:900px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:2rem}h1[_ngcontent-%COMP%]{font-size:2rem;color:#2d3748}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;font-weight:600;cursor:pointer}.form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#4a5568;margin-bottom:.5rem}.required[_ngcontent-%COMP%]{color:#e53e3e}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e2e8f0;border-radius:8px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:.75rem 2rem;border:none;border-radius:8px;font-weight:600;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#edf2f7;color:#4a5568}.loading[_ngcontent-%COMP%]{text-align:center;padding:3rem}"]})};export{L as EditarRutinaComponent};
