import{a as S,b as O}from"./chunk-3XSRQ24Y.js";import{a as P}from"./chunk-MUQBBXYO.js";import"./chunk-6LZ2YNEV.js";import{B as b,K as p,L as u,T as e,U as n,V as _,W as E,X as v,Z as f,_ as c,aa as x,ca as t,n as C,o as l,p as m,ra as h,u as g,y as r,za as M}from"./chunk-S3CJXT6Z.js";import"./chunk-2VMXMS7J.js";function y(a,o){a&1&&(e(0,"div",4),_(1,"div",5),e(2,"p"),t(3,"Cargando configuraci\xF3n..."),n()())}function U(a,o){a&1&&(e(0,"div",12),t(1,"\u2713"),n())}function w(a,o){a&1&&(e(0,"div",12),t(1,"\u2713"),n())}function D(a,o){a&1&&(_(0,"span",17),t(1," Guardando... "))}function z(a,o){a&1&&t(0," Guardar Cambios ")}function j(a,o){if(a&1){let i=E();e(0,"div",6)(1,"div",7),f("click",function(){l(i);let d=c();return m(d.seleccionarUnidad(d.UnidadesMedida.KG))}),e(2,"div",8),t(3,"\u2696\uFE0F"),n(),e(4,"h3"),t(5,"Kilogramos (KG)"),n(),e(6,"p"),t(7,"Sistema m\xE9trico internacional"),n(),e(8,"div",9)(9,"span",10),t(10,"Ejemplo:"),n(),e(11,"span",11),t(12,"70.5 kg"),n()(),p(13,U,2,0,"div",12),n(),e(14,"div",7),f("click",function(){l(i);let d=c();return m(d.seleccionarUnidad(d.UnidadesMedida.LBS))}),e(15,"div",8),t(16,"\u{1F4CF}"),n(),e(17,"h3"),t(18,"Libras (LBS)"),n(),e(19,"p"),t(20,"Sistema imperial"),n(),e(21,"div",9)(22,"span",10),t(23,"Ejemplo:"),n(),e(24,"span",11),t(25,"155.4 lbs"),n()(),p(26,w,2,0,"div",12),n()(),e(27,"div",13)(28,"h4"),t(29,"\u{1F4A1} Conversi\xF3n"),n(),e(30,"p"),t(31,"1 Kilogramo (kg) = 2.20462 Libras (lbs)"),n()(),e(32,"div",14)(33,"button",15),f("click",function(){l(i);let d=c();return m(d.cancelar())}),t(34," Cancelar "),n(),e(35,"button",16),f("click",function(){l(i);let d=c();return m(d.guardar())}),p(36,D,2,0)(37,z,1,0),n()()}if(a&2){let i=c();r(),x("selected",i.unidadSeleccionada()===i.UnidadesMedida.KG),r(12),u(i.unidadSeleccionada()===i.UnidadesMedida.KG?13:-1),r(),x("selected",i.unidadSeleccionada()===i.UnidadesMedida.LBS),r(12),u(i.unidadSeleccionada()===i.UnidadesMedida.LBS?26:-1),r(9),v("disabled",i.saving()||!i.hayCambios()),r(),u(i.saving()?36:37)}}var k=class a{UnidadesMedida=S;perfilService=C(O);notificationService=C(P);router=C(M);loading=g(!0);saving=g(!1);unidadSeleccionada=g("KG");unidadOriginal=g("KG");ngOnInit(){this.cargarUnidadActual()}cargarUnidadActual(){this.perfilService.obtenerPerfil().subscribe({next:o=>{this.unidadSeleccionada.set(o.unidadesMedida),this.unidadOriginal.set(o.unidadesMedida),this.loading.set(!1)},error:o=>{console.error("Error al cargar perfil:",o),this.notificationService.showError("Error al cargar configuraci\xF3n"),this.loading.set(!1)}})}seleccionarUnidad(o){this.unidadSeleccionada.set(o)}hayCambios(){return this.unidadSeleccionada()!==this.unidadOriginal()}guardar(){if(!this.hayCambios()){this.notificationService.showWarning("No hay cambios para guardar");return}this.saving.set(!0),this.perfilService.actualizarUnidades({unidadesMedida:this.unidadSeleccionada()}).subscribe({next:()=>{this.notificationService.showSuccess(`Unidad cambiada a ${this.unidadSeleccionada()} exitosamente`),this.unidadOriginal.set(this.unidadSeleccionada()),this.router.navigate(["/perfil/salud"])},error:o=>{console.error("Error al actualizar unidades:",o),this.notificationService.showError("Error al actualizar unidades"),this.saving.set(!1)},complete:()=>{this.saving.set(!1)}})}cancelar(){this.router.navigate(["/perfil/salud"])}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=b({type:a,selectors:[["app-configurar-unidades"]],decls:10,vars:1,consts:[[1,"unidades-container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"loading-spinner"],[1,"spinner"],[1,"unidades-options"],[1,"unidad-card",3,"click"],[1,"unidad-icon"],[1,"ejemplo"],[1,"ejemplo-label"],[1,"ejemplo-valor"],[1,"check-icon"],[1,"conversion-info"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"spinner-small"]],template:function(i,s){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t(4,"Configurar Unidades de Medida"),n(),e(5,"p"),t(6,"Elige c\xF3mo deseas ver tus medidas de peso"),n()(),e(7,"div",3),p(8,y,4,0,"div",4)(9,j,38,8),n()()()),i&2&&(r(8),u(s.loading()?8:9))},dependencies:[h],styles:[".unidades-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:0 1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem;text-align:center}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem}.card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.card-body[_ngcontent-%COMP%]{padding:2rem}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:3rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.unidades-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.unidad-card[_ngcontent-%COMP%]{position:relative;padding:2rem;border:3px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .3s ease;text-align:center}.unidad-card[_ngcontent-%COMP%]:hover{border-color:#667eea;transform:translateY(-4px);box-shadow:0 8px 16px #667eea33}.unidad-card.selected[_ngcontent-%COMP%]{border-color:#667eea;background:linear-gradient(135deg,#667eea1a,#764ba21a);box-shadow:0 8px 20px #667eea4d}.unidad-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.unidad-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 .5rem;color:#333}.unidad-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 1rem;font-size:.95rem}.ejemplo[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem;border-radius:6px;margin-top:1rem}.ejemplo-label[_ngcontent-%COMP%]{font-size:.875rem;color:#666;display:block;margin-bottom:.25rem}.ejemplo-valor[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#667eea}.check-icon[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;width:32px;height:32px;background:#667eea;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.25rem;font-weight:700;animation:_ngcontent-%COMP%_checkmark .3s ease}@keyframes _ngcontent-%COMP%_checkmark{0%{transform:scale(0)}50%{transform:scale(1.2)}to{transform:scale(1)}}.conversion-info[_ngcontent-%COMP%]{background:#fff9e6;border-left:4px solid #ffc107;padding:1.5rem;border-radius:6px;margin-bottom:2rem}.conversion-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#856404;font-size:1.1rem}.conversion-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#856404}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:.5rem}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.btn-secondary[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.spinner-small[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border:2px solid #ffffff80;border-top:2px solid #ffffff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.unidades-options[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{k as ConfigurarUnidadesComponent};
