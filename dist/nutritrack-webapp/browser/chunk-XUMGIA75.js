import{a as D}from"./chunk-MUQBBXYO.js";import{a as v,b as y,d as w,f as k,r as T}from"./chunk-YUBUCD23.js";import{a as S}from"./chunk-ZO56IYKS.js";import"./chunk-6LZ2YNEV.js";import{B as _,K as g,L as p,P as M,Q as t,R as e,S as E,Y as u,aa as h,ca as n,ga as f,ha as C,ia as b,n as m,ra as P,u as s,y as l,za as O}from"./chunk-S3CJXT6Z.js";import{c as x}from"./chunk-2VMXMS7J.js";function F(o,r){o&1&&(t(0,"span",12),n(1,' Debes escribir exactamente "ELIMINAR" para continuar '),e())}function N(o,r){o&1&&(E(0,"span",19),n(1," Eliminando... "))}function I(o,r){o&1&&n(0," \u{1F5D1}\uFE0F Eliminar Mi Cuenta ")}var A=class o{authService=m(S);notificationService=m(D);router=m(O);confirmacionTexto="";entiendeConsecuencias=!1;mostrarError=s(!1);eliminando=s(!1);esConfirmacionValida(){return this.confirmacionTexto.trim()==="ELIMINAR"}puedeEliminar(){return this.esConfirmacionValida()&&this.entiendeConsecuencias}confirmarEliminacion(){return x(this,null,function*(){if(!this.puedeEliminar()){this.mostrarError.set(!0),this.notificationService.showWarning("Debes completar la confirmaci\xF3n para continuar");return}(yield this.mostrarDialogoFinal())&&this.eliminarCuenta()})}mostrarDialogoFinal(){return new Promise(r=>{let c=confirm(`\u26A0\uFE0F \xDALTIMA ADVERTENCIA \u26A0\uFE0F

Esta es tu \xFAltima oportunidad para cancelar.

\xBFEst\xE1s ABSOLUTAMENTE SEGURO de que deseas eliminar tu cuenta?

Esta acci\xF3n NO SE PUEDE DESHACER.

Presiona OK para eliminar tu cuenta permanentemente.
Presiona Cancelar para mantener tu cuenta.`);r(c)})}eliminarCuenta(){this.eliminando.set(!0),setTimeout(()=>{this.notificationService.showSuccess("Tu cuenta ha sido eliminada exitosamente"),this.authService.logout(),this.router.navigate(["/"])},2e3)}cancelar(){this.router.navigate(["/perfil/salud"])}static \u0275fac=function(c){return new(c||o)};static \u0275cmp=_({type:o,selectors:[["app-eliminar-cuenta"]],decls:72,vars:7,consts:[[1,"eliminar-cuenta-container"],[1,"card"],[1,"card-header","danger"],[1,"warning-icon"],[1,"card-body"],[1,"warning-box"],[1,"info-box"],[1,"confirmation-section"],[1,"confirmation-word"],[1,"form-group"],["for","confirmacion"],["type","text","id","confirmacion","placeholder","ELIMINAR",1,"form-control",3,"ngModelChange","ngModel"],[1,"error-message"],[1,"checkbox-group"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"spinner-small"]],template:function(c,i){c&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n(4,"\u26A0\uFE0F"),e(),t(5,"h2"),n(6,"Eliminar Cuenta"),e(),t(7,"p"),n(8,"Esta acci\xF3n es permanente e irreversible"),e()(),t(9,"div",4)(10,"div",5)(11,"h3"),n(12,"\u26A0\uFE0F Advertencia Importante"),e(),t(13,"p"),n(14,"Al eliminar tu cuenta se perder\xE1n "),t(15,"strong"),n(16,"permanentemente"),e(),n(17,":"),e(),t(18,"ul")(19,"li"),n(20,"Tu perfil de salud y configuraci\xF3n"),e(),t(21,"li"),n(22,"Todos tus planes nutricionales activos"),e(),t(23,"li"),n(24,"Tus rutinas de ejercicio"),e(),t(25,"li"),n(26,"Historial completo de registros de comidas y ejercicios"),e(),t(27,"li"),n(28,"Mediciones y progreso guardado"),e(),t(29,"li"),n(30,"Todas tus preferencias y datos personales"),e()()(),t(31,"div",6)(32,"h4"),n(33,"\u{1F4CB} Alternativas"),e(),t(34,"p"),n(35,"Si solo deseas hacer una pausa, considera:"),e(),t(36,"ul")(37,"li")(38,"strong"),n(39,"Pausar tus planes:"),e(),n(40," Puedes pausar y reanudar cuando quieras"),e(),t(41,"li")(42,"strong"),n(43,"Cancelar planes:"),e(),n(44," Sin eliminar tu cuenta"),e(),t(45,"li")(46,"strong"),n(47,"Contactar soporte:"),e(),n(48," Si tienes alg\xFAn problema"),e()()(),t(49,"div",7)(50,"h3"),n(51,"Confirmaci\xF3n Requerida"),e(),t(52,"p"),n(53,"Para confirmar que deseas eliminar tu cuenta, escribe exactamente:"),e(),t(54,"div",8),n(55,"ELIMINAR"),e(),t(56,"div",9)(57,"label",10),n(58,'Escribe "ELIMINAR" para confirmar:'),e(),t(59,"input",11),b("ngModelChange",function(a){return C(i.confirmacionTexto,a)||(i.confirmacionTexto=a),a}),e(),g(60,F,2,0,"span",12),e(),t(61,"div",13)(62,"label",14)(63,"input",15),b("ngModelChange",function(a){return C(i.entiendeConsecuencias,a)||(i.entiendeConsecuencias=a),a}),e(),t(64,"span"),n(65,"Entiendo que esta acci\xF3n es irreversible y acepto perder todos mis datos"),e()()()(),t(66,"div",16)(67,"button",17),u("click",function(){return i.cancelar()}),n(68," Cancelar "),e(),t(69,"button",18),u("click",function(){return i.confirmarEliminacion()}),g(70,N,2,0)(71,I,1,0),e()()()()()),c&2&&(l(59),h("error",i.mostrarError()&&!i.esConfirmacionValida()),f("ngModel",i.confirmacionTexto),l(),p(i.mostrarError()&&!i.esConfirmacionValida()?60:-1),l(3),f("ngModel",i.entiendeConsecuencias),l(6),M("disabled",!i.puedeEliminar()||i.eliminando()),l(),p(i.eliminando()?70:71))},dependencies:[P,T,y,v,w,k],styles:[".eliminar-cuenta-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:0 1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:2rem;text-align:center}.card-header.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff}.warning-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem}.card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9}.card-body[_ngcontent-%COMP%]{padding:2rem}.warning-box[_ngcontent-%COMP%]{background:#fee;border-left:4px solid #e74c3c;padding:1.5rem;border-radius:6px;margin-bottom:1.5rem}.warning-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#c0392b;font-size:1.25rem}.warning-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#721c24}.warning-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.5rem;color:#721c24}.warning-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.info-box[_ngcontent-%COMP%]{background:#e7f3ff;border-left:4px solid #2196f3;padding:1.5rem;border-radius:6px;margin-bottom:1.5rem}.info-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1565c0;font-size:1.1rem}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#0d47a1}.info-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.5rem;color:#0d47a1}.info-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.confirmation-section[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem}.confirmation-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#333;font-size:1.25rem}.confirmation-section[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#666}.confirmation-word[_ngcontent-%COMP%]{background:#fff;border:2px dashed #e74c3c;padding:1rem;text-align:center;font-size:1.5rem;font-weight:700;color:#e74c3c;border-radius:6px;margin-bottom:1.5rem;letter-spacing:2px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:.5rem;color:#444}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .2s;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-control.error[_ngcontent-%COMP%]{border-color:#e74c3c}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.875rem;margin-top:.25rem;display:block}.checkbox-group[_ngcontent-%COMP%]{margin-top:1rem}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:flex-start;cursor:pointer;-webkit-user-select:none;user-select:none}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:.75rem;margin-top:.25rem;width:18px;height:18px;cursor:pointer;flex-shrink:0}.checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#444;line-height:1.5}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e0e0e0}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:.5rem}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #e74c3c66}.btn-secondary[_ngcontent-%COMP%]{background:#f5f5f5;color:#666}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.spinner-small[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border:2px solid #ffffff80;border-top:2px solid #ffffff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};export{A as EliminarCuentaComponent};
