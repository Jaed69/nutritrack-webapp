import{a as oe}from"./chunk-AIAQQ3UJ.js";import{a as ie}from"./chunk-MUQBBXYO.js";import{a as u}from"./chunk-ZO56IYKS.js";import"./chunk-6LZ2YNEV.js";import{Aa as b,B as p,Ba as te,Ca as ne,K as P,L as O,N as B,O as $,Q as t,R as n,S as s,T as f,U as v,V as S,W as Y,Y as w,Z,_ as J,aa as D,ba as K,c as V,ca as i,da as _,f as G,la as Q,n as l,na as W,o as H,p as U,q as m,r as x,ra as g,sa as X,t as j,u as k,va as q,wa as ee,y as d,ya as E,za as C}from"./chunk-S3CJXT6Z.js";import"./chunk-2VMXMS7J.js";var ae=(e,a)=>{let o=l(u),r=l(C);return o.isAuthenticated()&&o.isAdmin()?!0:(r.navigate(["/"]),!1)};var A=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=p({type:e,selectors:[["app-landing-layout"]],decls:15,vars:0,consts:[[1,"landing-layout"],[1,"landing-header"],[1,"header-content"],["routerLink","/",1,"logo"],[1,"logo-icon"],[1,"logo-text"],[1,"logo-highlight"],[1,"landing-main"],[1,"landing-footer"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3)(4,"span",4),i(5,"\u{1F957}"),n(),t(6,"span",5),i(7,"Nutri"),t(8,"span",6),i(9,"Track"),n()()()()(),t(10,"main",7),s(11,"router-outlet"),n(),t(12,"footer",8)(13,"p"),i(14,"\xA9 2025 Nutritrack App. Todos los derechos reservados por el equipo de nutritrack."),n()()())},dependencies:[g,E,b],styles:["[_nghost-%COMP%]{--color-primary: #16a34a;--color-secondary: #64748B;--color-light: #F5F5F5;--color-white: #FFFFFF}.landing-layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background:var(--color-light)}.landing-header[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 2px 4px #0000001a;padding:1rem 2rem}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;text-decoration:none;font-size:1.5rem;font-weight:700}.logo-icon[_ngcontent-%COMP%]{font-size:2rem}.logo-text[_ngcontent-%COMP%]{color:var(--color-primary)}.logo-highlight[_ngcontent-%COMP%]{color:var(--color-secondary)}.landing-main[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(148deg,#667eea,#764ba2)}.landing-footer[_ngcontent-%COMP%]{background:var(--color-primary);padding:1.5rem;text-align:center;color:var(--color-white)}.landing-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.8}"]})};var L=class e{authService=l(u);router=l(C);logout(){confirm("\xBFEst\xE1s seguro de que deseas cerrar sesi\xF3n?")&&this.authService.logout()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=p({type:e,selectors:[["app-navbar-user"]],decls:30,vars:1,consts:[[1,"navbar"],[1,"navbar-container"],[1,"navbar-brand"],[1,"brand-icon"],[1,"brand-text"],[1,"navbar-menu"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link"],[1,"nav-icon"],["routerLink","/catalogo","routerLinkActive","active",1,"nav-link"],["routerLink","/seguimiento","routerLinkActive","active",1,"nav-link"],[1,"navbar-actions"],[1,"user-info"],[1,"user-icon"],[1,"user-name"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"logout-icon"]],template:function(o,r){if(o&1&&(t(0,"nav",0)(1,"div",1)(2,"div",2)(3,"span",3),i(4,"\u{1F957}"),n(),t(5,"span",4),i(6,"NutriTrack"),n()(),t(7,"div",5)(8,"a",6)(9,"span",7),i(10,"\u{1F4CA}"),n(),i(11," Dashboard "),n(),t(12,"a",8)(13,"span",7),i(14,"\u{1F4CB}"),n(),i(15," Cat\xE1logo "),n(),t(16,"a",9)(17,"span",7),i(18,"\u{1F4C8}"),n(),i(19," Seguimiento "),n()(),t(20,"div",10)(21,"div",11)(22,"span",12),i(23,"\u{1F464}"),n(),t(24,"span",13),i(25),n()(),t(26,"button",14),w("click",function(){return r.logout()}),t(27,"span",15),i(28,"\u{1F6AA}"),n(),i(29," Salir "),n()()()()),o&2){let c;d(25),_((c=r.authService.currentUser())==null?null:c.name)}},dependencies:[g,b],styles:[".navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;height:64px;background:#fff;border-bottom:1px solid #e5e7eb;z-index:1000;box-shadow:0 1px 3px #0000001a}.navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:100%;padding:0 2rem;max-width:1920px;margin:0 auto}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.5rem;font-weight:700;color:#10b981;cursor:pointer}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.navbar-menu[_ngcontent-%COMP%]{display:flex;gap:1rem;flex:1;justify-content:center}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;color:#6b7280;text-decoration:none;border-radius:8px;font-weight:500;transition:all .2s}.nav-link[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#10b981}.nav-link.active[_ngcontent-%COMP%]{background:#dcfce7;color:#10b981}.nav-icon[_ngcontent-%COMP%]{font-size:1.25rem}.navbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#f9fafb;border-radius:8px}.user-icon[_ngcontent-%COMP%]{font-size:1.5rem}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#374151}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#fee2e2;color:#dc2626;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fecaca;transform:translateY(-1px)}.logout-icon[_ngcontent-%COMP%]{font-size:1.25rem}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{height:60px}.navbar-container[_ngcontent-%COMP%]{padding:0 1rem}.navbar-menu[_ngcontent-%COMP%], .user-name[_ngcontent-%COMP%]{display:none}}"]})};var T=class e{authService=l(u);router=l(C);logout(){confirm("\xBFEst\xE1s seguro de que deseas cerrar sesi\xF3n?")&&this.authService.logout()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=p({type:e,selectors:[["app-navbar-admin"]],decls:32,vars:1,consts:[[1,"navbar","admin"],[1,"navbar-container"],[1,"navbar-brand"],[1,"brand-icon"],[1,"brand-text"],[1,"navbar-menu"],["routerLink","/admin/dashboard","routerLinkActive","active",1,"nav-link"],[1,"nav-icon"],["routerLink","/admin/planes","routerLinkActive","active",1,"nav-link"],["routerLink","/admin/rutinas","routerLinkActive","active",1,"nav-link"],[1,"navbar-actions"],[1,"user-info"],[1,"user-icon"],[1,"user-name"],[1,"admin-badge"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"logout-icon"]],template:function(o,r){if(o&1&&(t(0,"nav",0)(1,"div",1)(2,"div",2)(3,"span",3),i(4,"\u{1F468}\u200D\u{1F4BC}"),n(),t(5,"span",4),i(6,"Admin Panel"),n()(),t(7,"div",5)(8,"a",6)(9,"span",7),i(10,"\u{1F3E0}"),n(),i(11," Dashboard "),n(),t(12,"a",8)(13,"span",7),i(14,"\u{1F957}"),n(),i(15," Planes "),n(),t(16,"a",9)(17,"span",7),i(18,"\u{1F4AA}"),n(),i(19," Rutinas "),n()(),t(20,"div",10)(21,"div",11)(22,"span",12),i(23,"\u{1F468}\u200D\u{1F4BC}"),n(),t(24,"span",13),i(25),n(),t(26,"span",14),i(27,"ADMIN"),n()(),t(28,"button",15),w("click",function(){return r.logout()}),t(29,"span",16),i(30,"\u{1F6AA}"),n(),i(31," Salir "),n()()()()),o&2){let c;d(25),_((c=r.authService.currentUser())==null?null:c.name)}},dependencies:[g,b],styles:[".navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;height:64px;background:linear-gradient(135deg,#667eea,#764ba2);border-bottom:1px solid rgba(255,255,255,.1);z-index:1000;box-shadow:0 4px 12px #00000026}.navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:100%;padding:0 2rem;max-width:1920px;margin:0 auto}.navbar-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.5rem;font-weight:700;color:#fff;cursor:pointer}.brand-icon[_ngcontent-%COMP%]{font-size:2rem}.navbar-menu[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex:1;justify-content:center}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;color:#ffffffe6;text-decoration:none;border-radius:8px;font-weight:500;transition:all .2s}.nav-link[_ngcontent-%COMP%]:hover{background:#ffffff26;color:#fff}.nav-link.active[_ngcontent-%COMP%]{background:#ffffff40;color:#fff;box-shadow:0 2px 8px #0000001a}.nav-icon[_ngcontent-%COMP%]{font-size:1.25rem}.navbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem;background:#ffffff26;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.user-icon[_ngcontent-%COMP%]{font-size:1.5rem}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#fff}.admin-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;background:#22c55ee6;color:#fff;border-radius:12px;font-size:.75rem;font-weight:700;letter-spacing:.5px}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#ef4444e6;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s}.logout-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:translateY(-1px);box-shadow:0 4px 12px #0003}.logout-icon[_ngcontent-%COMP%]{font-size:1.25rem}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{height:60px}.navbar-container[_ngcontent-%COMP%]{padding:0 1rem}.navbar-menu[_ngcontent-%COMP%], .user-name[_ngcontent-%COMP%], .admin-badge[_ngcontent-%COMP%]{display:none}}"]})};function me(e,a){e&1&&(m(),s(0,"polyline",3))}function pe(e,a){e&1&&(m(),s(0,"polyline",4))}var F=class e{authService=l(u);isCollapsed=k(!1);toggleSidebar(){this.isCollapsed.update(a=>!a)}isAdmin(){return this.authService.isAdmin()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=p({type:e,selectors:[["app-sidebar"]],decls:67,vars:3,consts:[[1,"sidebar"],["title","Ocultar/Mostrar men\xFA",1,"toggle-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","9 18 15 12 9 6"],["points","15 18 9 12 15 6"],[1,"sidebar-nav"],[1,"nav-section"],[1,"section-title"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"nav-icon"],["x","3","y","3","width","7","height","7"],["x","14","y","3","width","7","height","7"],["x","14","y","14","width","7","height","7"],["x","3","y","14","width","7","height","7"],[1,"nav-text"],["routerLink","/accounts","routerLinkActive","active",1,"nav-item"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["x1","3","y1","9","x2","21","y2","9"],["x1","9","y1","21","x2","9","y2","9"],["routerLink","/transactions","routerLinkActive","active",1,"nav-item"],["points","22 12 18 12 15 21 9 3 6 12 2 12"],[1,"nav-section","nav-section-divider"],["routerLink","/accounts/paginated","routerLinkActive","active",1,"nav-item"],["x1","9","y1","3","x2","9","y2","21"],["x1","15","y1","3","x2","15","y2","21"],["routerLink","/transactions/paginated","routerLinkActive","active",1,"nav-item"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","12","y1","18","x2","12","y2","12"],["x1","9","y1","15","x2","15","y2","15"],[1,"nav-section","nav-section-divider","admin-section"],["routerLink","/reports","routerLinkActive","active",1,"nav-item"],["d","M3 3v18h18"],["d","M18 17V9"],["d","M13 17V5"],["d","M8 17v-3"],[1,"nav-section","nav-section-bottom"],["routerLink","/profile","routerLinkActive","active",1,"nav-item"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"]],template:function(o,r){o&1&&(t(0,"aside",0)(1,"button",1),w("click",function(){return r.toggleSidebar()}),m(),t(2,"svg",2),P(3,me,1,0,":svg:polyline",3)(4,pe,1,0,":svg:polyline",4),n()(),x(),t(5,"nav",5)(6,"div",6)(7,"div",7),i(8,"Principal"),n(),t(9,"a",8),m(),t(10,"svg",9),s(11,"rect",10)(12,"rect",11)(13,"rect",12)(14,"rect",13),n(),x(),t(15,"span",14),i(16,"Dashboard"),n()(),t(17,"a",15),m(),t(18,"svg",9),s(19,"rect",16)(20,"line",17)(21,"line",18),n(),x(),t(22,"span",14),i(23,"Mis Cuentas"),n()(),t(24,"a",19),m(),t(25,"svg",9),s(26,"polyline",20),n(),x(),t(27,"span",14),i(28,"Transacciones"),n()()(),t(29,"div",21)(30,"div",7),i(31,"Vistas Paginadas"),n(),t(32,"a",22),m(),t(33,"svg",9),s(34,"rect",16)(35,"line",23)(36,"line",24),n(),x(),t(37,"span",14),i(38,"Cuentas Paginado"),n()(),t(39,"a",25),m(),t(40,"svg",9),s(41,"path",26)(42,"polyline",27)(43,"line",28)(44,"line",29),n(),x(),t(45,"span",14),i(46,"Transacciones Paginado"),n()()(),t(47,"div",30)(48,"div",7),i(49,"Administraci\xF3n"),n(),t(50,"a",31),m(),t(51,"svg",9),s(52,"path",32)(53,"path",33)(54,"path",34)(55,"path",35),n(),x(),t(56,"span",14),i(57,"Reportes"),n()()(),t(58,"div",36)(59,"div",7),i(60,"Cuenta"),n(),t(61,"a",37),m(),t(62,"svg",9),s(63,"path",38)(64,"circle",39),n(),x(),t(65,"span",14),i(66,"Mi Perfil"),n()()()()()),o&2&&(D("collapsed",r.isCollapsed()),d(3),O(r.isCollapsed()?3:4))},dependencies:[g,b,te],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;left:0;top:var(--navbar-height);height:calc(100vh - var(--navbar-height));width:var(--sidebar-width);background:var(--color-background-light);box-shadow:var(--shadow-md);transition:var(--transition-base);z-index:var(--z-index-sidebar);display:flex;flex-direction:column}.sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(calc(-1 * var(--sidebar-width)))}.toggle-btn[_ngcontent-%COMP%]{position:absolute;right:-40px;top:10px;width:36px;height:36px;background:var(--color-purple);color:var(--color-text-light);border:none;border-radius:var(--border-radius-round);box-shadow:0 2px 8px #667eea4d;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition-base);z-index:var(--z-index-fixed)}.toggle-btn[_ngcontent-%COMP%]:hover{background:var(--color-purple-dark);box-shadow:0 4px 12px #667eea80;transform:scale(1.05)}.toggle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:var(--transition-base)}.sidebar-nav[_ngcontent-%COMP%]{padding:var(--spacing-md) 0;overflow-y:auto;flex:1;display:flex;flex-direction:column}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-divider[_ngcontent-%COMP%]{padding-top:var(--spacing-md);margin-top:var(--spacing-md);border-top:2px solid var(--color-border-light)}.nav-section-bottom[_ngcontent-%COMP%]{margin-top:auto;padding-top:var(--spacing-md);border-top:2px solid var(--color-border-light)}.section-title[_ngcontent-%COMP%]{padding:.75rem var(--spacing-lg) var(--spacing-sm) var(--spacing-lg);font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-muted)}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md) var(--spacing-lg);color:var(--color-text-secondary);text-decoration:none;transition:var(--transition-base);position:relative}.nav-item[_ngcontent-%COMP%]:hover{background:var(--color-background);color:var(--color-purple)}.nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(102,126,234,.1) 0%,transparent 100%);color:var(--color-purple);border-left:3px solid var(--color-purple)}.nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{color:var(--color-purple)}.nav-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.nav-text[_ngcontent-%COMP%]{font-size:.95rem;font-weight:var(--font-weight-medium);white-space:nowrap}.admin-section[_ngcontent-%COMP%]{border-top:2px solid var(--color-warning);background:linear-gradient(180deg,rgba(255,193,7,.05) 0%,transparent 100%)}.admin-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:var(--font-weight-bold)}.admin-section[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{border-left:3px solid transparent}.admin-section[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#ffc1071a;color:var(--color-warning);border-left:3px solid var(--color-warning)}.admin-section[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,193,7,.15) 0%,transparent 100%);color:var(--color-warning);border-left:3px solid var(--color-warning)}.admin-section[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{color:var(--color-warning)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{top:60px;height:calc(100vh - 60px)}.toggle-btn[_ngcontent-%COMP%]{right:-38px}}"]})};var N=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=p({type:e,selectors:[["app-footer"]],decls:0,vars:0,template:function(o,r){},dependencies:[g],encapsulation:2})};function de(e,a){e&1&&s(0,"app-navbar-admin")}function ge(e,a){e&1&&s(0,"app-navbar-user")}var R=class e{authService=l(u);isAdmin=W(()=>this.authService.currentUser()?.id_rol===2);static \u0275fac=function(o){return new(o||e)};static \u0275cmp=p({type:e,selectors:[["app-auth-layout"]],decls:8,vars:3,consts:[[1,"auth-layout"],[1,"content-wrapper"],[1,"auth-main"]],template:function(o,r){o&1&&(t(0,"div",0),P(1,de,1,0,"app-navbar-admin")(2,ge,1,0,"app-navbar-user"),s(3,"app-sidebar"),t(4,"div",1)(5,"main",2),s(6,"router-outlet"),n(),s(7,"app-footer"),n()()),o&2&&(d(),O(r.isAdmin()?1:2),d(3),D("sidebar-open",!0))},dependencies:[g,E,L,T,F,N],styles:[".auth-layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;position:relative}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:calc(100vh - 64px);margin-top:64px;margin-left:0;transition:margin-left .3s ease}.content-wrapper.sidebar-open[_ngcontent-%COMP%]{margin-left:260px}.auth-main[_ngcontent-%COMP%]{flex:1;padding:2rem;background:#f8f9fa;min-height:calc(100vh - 124px)}@media (max-width: 768px){.content-wrapper[_ngcontent-%COMP%]{margin-top:60px;min-height:calc(100vh - 60px)}.content-wrapper.sidebar-open[_ngcontent-%COMP%]{margin-left:0}.auth-main[_ngcontent-%COMP%]{min-height:calc(100vh - 120px)}}"]})};var re=[{path:"",loadChildren:()=>import("./chunk-ETLI2YPY.js").then(e=>e.HOME_ROUTES)},{path:"",component:A,children:[{path:"",loadChildren:()=>import("./chunk-UZA4ZVIQ.js").then(e=>e.AUTH_ROUTES)}]},{path:"",component:R,canActivate:[oe],children:[{path:"dashboard",loadChildren:()=>import("./chunk-TVBXMIGD.js").then(e=>e.DASHBOARD_ROUTES)},{path:"perfil",loadChildren:()=>import("./chunk-5XIIPHY3.js").then(e=>e.PERFIL_ROUTES)},{path:"catalogo",loadChildren:()=>import("./chunk-NLSCYUKJ.js").then(e=>e.CATALOGO_ROUTES)},{path:"seguimiento",loadChildren:()=>import("./chunk-BFOOVOSZ.js").then(e=>e.SEGUIMIENTO_ROUTES)},{path:"admin",canActivate:[ae],loadChildren:()=>import("./chunk-WWR3MYZ5.js").then(e=>e.ADMIN_ROUTES)}]},{path:"**",redirectTo:""}];var ce=(e,a)=>{let r=l(u).getToken(),c=e.url.includes("/auth/login")||e.url.includes("/auth/registro");if(r&&!c){let h=e.clone({setHeaders:{Authorization:`Bearer ${r}`}});return console.log("\u{1F510} Agregando token a la petici\xF3n:",e.url),a(h)}return console.log("\u{1F513} Petici\xF3n sin token:",e.url),a(e)};var le=(e,a)=>{let o=l(C),r=l(u);return a(e).pipe(G(c=>{console.error("\u{1F534} Error interceptado:",c);let h="Ocurri\xF3 un error";return c.error instanceof ErrorEvent?(h=`Error de conexi\xF3n: ${c.error.message}`,console.error("\u{1F534} Error del cliente:",h)):(h=c.error?.message||c.message||"Error desconocido",console.error("\u{1F534} Error del servidor:",{status:c.status,message:h,url:c.url}),c.status===401&&!c.url?.includes("/auth/login")&&!c.url?.includes("/auth/registro")&&(console.log("\u{1F512} Token expirado, cerrando sesi\xF3n"),r.logout(),o.navigate(["/login"])),c.status===403&&(console.log("\u{1F6AB} Acceso denegado"),o.navigate(["/"]))),V(()=>c)}))};var se={providers:[j(),Q(),ne(re),q(ee([ce,le]))]};var ue=(e,a)=>a.id;function fe(e,a){e&1&&(m(),f(0,"svg",4),S(1,"path",12)(2,"polyline",13),v())}function ve(e,a){e&1&&(m(),f(0,"svg",4),S(1,"circle",14)(2,"line",15)(3,"line",16),v())}function xe(e,a){e&1&&(m(),f(0,"svg",4),S(1,"path",17)(2,"line",18)(3,"line",19),v())}function he(e,a){e&1&&(m(),f(0,"svg",4),S(1,"circle",14)(2,"line",20)(3,"line",21),v())}function Ce(e,a){if(e&1){let o=Y();f(0,"div",2)(1,"div",3),P(2,fe,3,0,":svg:svg",4)(3,ve,4,0,":svg:svg",4)(4,xe,4,0,":svg:svg",4)(5,he,4,0,":svg:svg",4),v(),f(6,"div",5)(7,"div",6),i(8),v(),f(9,"div",7),i(10),v()(),f(11,"button",8),Z("click",function(){let c=H(o).$implicit,h=J();return U(h.close(c.id))}),m(),f(12,"svg",9),S(13,"line",10)(14,"line",11),v()()()}if(e&2){let o,r=a.$implicit;K("toast-"+r.type),d(2),O((o=r.type)==="success"?2:o==="error"?3:o==="warning"?4:o==="info"?5:-1),d(6),_(r.title),d(2),_(r.message)}}var z=class e{notificationService=l(ie);close(a){this.notificationService.remove(a)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=p({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-container"],[1,"toast",3,"class"],[1,"toast"],[1,"toast-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"toast-content"],[1,"toast-title"],[1,"toast-message"],["aria-label","Cerrar",1,"toast-close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"]],template:function(o,r){o&1&&(f(0,"div",0),B(1,Ce,15,5,"div",1,ue),v()),o&2&&(d(),$(r.notificationService.notifications$()))},dependencies:[g],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:12px;max-width:400px}.toast[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;animation:_ngcontent-%COMP%_slideIn .3s ease-out;border-left:4px solid}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast-success[_ngcontent-%COMP%]{border-left-color:#28a745}.toast-error[_ngcontent-%COMP%]{border-left-color:#dc3545}.toast-warning[_ngcontent-%COMP%]{border-left-color:#ffc107}.toast-info[_ngcontent-%COMP%]{border-left-color:#17a2b8}.toast-icon[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px}.toast-success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#28a745}.toast-error[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#dc3545}.toast-warning[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#ffc107}.toast-info[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#17a2b8}.toast-content[_ngcontent-%COMP%]{flex:1;min-width:0}.toast-title[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:#333;margin-bottom:4px}.toast-message[_ngcontent-%COMP%]{font-size:.875rem;color:#666;line-height:1.4}.toast-close[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px;padding:0;background:none;border:none;color:#999;cursor:pointer;transition:color .2s;display:flex;align-items:center;justify-content:center}.toast-close[_ngcontent-%COMP%]:hover{color:#333}@media (max-width: 480px){.toast-container[_ngcontent-%COMP%]{left:10px;right:10px;top:70px;max-width:none}}"]})};var I=class e{title=k("nutritrack-webapp");static \u0275fac=function(o){return new(o||e)};static \u0275cmp=p({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(o,r){o&1&&s(0,"router-outlet")(1,"app-toast")},dependencies:[E,z],encapsulation:2})};X(I,se).catch(e=>console.error(e));
